<!doctype html><html><head><meta name="viewport" content="width=device-width,initial-scale=1"/><title>2048</title>
<style>body{text-align:center;font-family:Arial}.grid{display:grid;grid-template-columns:repeat(4,70px);gap:6px;width:320px;margin:10px auto}.cell{width:70px;height:70px;background:#eee;display:flex;align-items:center;justify-content:center;font-size:22px;border-radius:6px}</style></head><body><h1>2048</h1><div class="grid" id="g"></div><button onclick="start()">Reiniciar</button>
<script>
let grid; function start(){ grid=Array.from({length:16},()=>0); add(); add(); draw(); }
function add(){ let empties=[]; grid.forEach((v,i)=>v===0&&empties.push(i)); if(!empties.length) return; grid[empties[Math.floor(Math.random()*empties.length)]] = Math.random()<0.9?2:4; }
function draw(){ const g=document.getElementById('g'); g.innerHTML=''; grid.forEach(v=>{ const c=document.createElement('div'); c.className='cell'; c.textContent=v||''; g.appendChild(c); }); }
function slide(dir){ let moved=false;
 function compress(arr){ let a=arr.filter(x=>x); for(let i=0;i<a.length-1;i++){ if(a[i]===a[i+1]){ a[i]*=2; a.splice(i+1,1); } } while(a.length<4) a.push(0); return a; }
 for(let r=0;r<4;r++){ let row=[grid[r*4],grid[r*4+1],grid[r*4+2],grid[r*4+3]]; if(dir==='L') { let ns=compress(row); for(let i=0;i<4;i++){ if(grid[r*4+i]!==ns[i]) moved=true; grid[r*4+i]=ns[i]; } }
 if(dir==='R'){ let nr=compress(row.reverse()).reverse(); for(let i=0;i<4;i++){ if(grid[r*4+i]!==nr[i]) moved=true; grid[r*4+i]=nr[i]; } }
 }
 if(dir==='U' || dir==='D'){ let cols=[[],[],[],[]]; for(let c=0;c<4;c++) for(let r=0;r<4;r++) cols[c].push(grid[r*4+c]);
 for(let c=0;c<4;c++){ if(dir==='U'){ let nc=compress(cols[c]); for(let r=0;r<4;r++){ if(grid[r*4+c]!==nc[r]) moved=true; grid[r*4+c]=nc[r]; } } else { let nc=compress(cols[c].reverse()).reverse(); for(let r=0;r<4;r++){ if(grid[r*4+c]!==nc[r]) moved=true; grid[r*4+c]=nc[r]; } } } }
 if(moved) add(); draw();
}
document.addEventListener('keydown',e=>{ if(e.key.includes('Left')) slide('L'); if(e.key.includes('Right')) slide('R'); if(e.key.includes('Up')) slide('U'); if(e.key.includes('Down')) slide('D'); });
start();
</script></body></html>